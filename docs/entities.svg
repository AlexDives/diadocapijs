<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="574px" preserveAspectRatio="none" style="width:2720px;height:574px;" version="1.1" viewBox="0 0 2720 574" width="2720px" zoomAndPan="magnify"><defs><filter height="300%" id="f9neto2pkk8wz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[9dd75fd92da113d30380b27734fd2f01]
cluster Service--><polygon fill="#9ACD32" filter="url(#f9neto2pkk8wz)" points="14,34.5,70,34.5,77,56.9063,1349,56.9063,1349,359,14,359,14,34.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="77" y1="56.9063" y2="56.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="18" y="49.4883">Service</text><!--MD5=[f0e56f8abfa6d0e1564e3ed40ccb413d]
cluster Diadoc--><polygon fill="#FFA500" filter="url(#f9neto2pkk8wz)" points="1357,16,1411,16,1418,38.4063,2698,38.4063,2698,562,1357,562,1357,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1357" x2="1418" y1="38.4063" y2="38.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="1361" y="30.9883">Diadoc</text><!--MD5=[9820c03a2633e4268cdd208103d2616f]
class DocumentService--><rect fill="#FEFECE" filter="url(#f9neto2pkk8wz)" height="73.7813" id="DocumentService" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="547" y="61.5"/><ellipse cx="606.75" cy="77.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M606.7969,83.7031 C608.2969,83.7031 609.5313,83.1406 610.4375,82.0781 L609.0625,80.5625 C608.5156,81.1563 607.8594,81.5469 607.0625,81.5469 C605.3906,81.5469 604.2344,80.2188 604.2344,77.9375 C604.2344,75.7188 605.3906,74.375 606.9531,74.375 C607.7656,74.375 608.3594,74.6875 608.8906,75.1719 L610.2656,73.625 C609.5156,72.8906 608.3594,72.2188 606.9531,72.2188 C604,72.2188 601.6719,74.3594 601.6719,78.0313 C601.6719,81.75 604.0469,83.7031 606.7969,83.7031 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="627.25" y="81.6016">DocumentService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="548" x2="768" y1="93.5" y2="93.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="548" x2="768" y1="101.5" y2="101.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="553" y="115.7051">sendDocument(sender, receiver, data)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="553" y="128.5957">getDocument(id)</text><path d="M804,86 L804,94.5 L769.1973,98.5 L804,102.5 L804,111.2344 A0,0 0 0 0 804,111.2344 L1090,111.2344 A0,0 0 0 0 1090,111.2344 L1090,96 L1080,86 L804,86 A0,0 0 0 0 804,86 " fill="#FBFB77" filter="url(#f9neto2pkk8wz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1080,86 L1080,96 L1090,96 L1080,86 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="810" y="103.0605">Базовый класс для работы с документами</text><!--MD5=[c546302f5178cfc347b50bceacf78f17]
class DiadocDocumentService--><rect fill="#FEFECE" filter="url(#f9neto2pkk8wz)" height="73.7813" id="DiadocDocumentService" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="296" y="277"/><ellipse cx="337.1" cy="293" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M337.1469,299.2031 C338.6469,299.2031 339.8813,298.6406 340.7875,297.5781 L339.4125,296.0625 C338.8656,296.6563 338.2094,297.0469 337.4125,297.0469 C335.7406,297.0469 334.5844,295.7188 334.5844,293.4375 C334.5844,291.2188 335.7406,289.875 337.3031,289.875 C338.1156,289.875 338.7094,290.1875 339.2406,290.6719 L340.6156,289.125 C339.8656,288.3906 338.7094,287.7188 337.3031,287.7188 C334.35,287.7188 332.0219,289.8594 332.0219,293.5313 C332.0219,297.25 334.3969,299.2031 337.1469,299.2031 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="356.9" y="297.1016">DiadocDocumentService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="297" x2="517" y1="309" y2="309"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="297" x2="517" y1="317" y2="317"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="302" y="331.2051">sendDocument(sender, receiver, data)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="302" y="344.0957">getDocument(id)</text><path d="M553,289 L553,305.2344 L512,327.4453 L553,313.2344 L553,329.4688 A0,0 0 0 0 553,329.4688 L823,329.4688 A0,0 0 0 0 823,329.4688 L823,299 L813,289 L553,289 A0,0 0 0 0 553,289 " fill="#FBFB77" filter="url(#f9neto2pkk8wz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M813,289 L813,299 L823,299 L813,289 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="559" y="306.0605">ключами для поиска получателя</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="559" y="321.2949">и отправителя можно сделать ИНН {inn}</text><path d="M21.5,301.5 L21.5,326.7344 A0,0 0 0 0 21.5,326.7344 L260.5,326.7344 A0,0 0 0 0 260.5,326.7344 L260.5,319.5 L295.8858,314 L260.5,311.5 L260.5,311.5 L250.5,301.5 L21.5,301.5 A0,0 0 0 0 21.5,301.5 " fill="#FBFB77" filter="url(#f9neto2pkk8wz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M250.5,301.5 L250.5,311.5 L260.5,311.5 L250.5,301.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="27.5" y="318.5605">Реализация отправки через DiaDoc</text><!--MD5=[537449fd528183818984c4a46fb06468]
class TestDocumentService--><rect fill="#FEFECE" filter="url(#f9neto2pkk8wz)" height="73.7813" id="TestDocumentService" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="858" y="277"/><ellipse cx="904.75" cy="293" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M904.7969,299.2031 C906.2969,299.2031 907.5313,298.6406 908.4375,297.5781 L907.0625,296.0625 C906.5156,296.6563 905.8594,297.0469 905.0625,297.0469 C903.3906,297.0469 902.2344,295.7188 902.2344,293.4375 C902.2344,291.2188 903.3906,289.875 904.9531,289.875 C905.7656,289.875 906.3594,290.1875 906.8906,290.6719 L908.2656,289.125 C907.5156,288.3906 906.3594,287.7188 904.9531,287.7188 C902,287.7188 899.6719,289.8594 899.6719,293.5313 C899.6719,297.25 902.0469,299.2031 904.7969,299.2031 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="925.25" y="297.1016">TestDocumentService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="859" x2="1079" y1="309" y2="309"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="859" x2="1079" y1="317" y2="317"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="864" y="331.2051">sendDocument(sender, receiver, data)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="864" y="344.0957">getDocument(id)</text><path d="M1115,294 L1115,310 L1080.0361,314 L1115,318 L1115,334.4688 A0,0 0 0 0 1115,334.4688 L1341,334.4688 A0,0 0 0 0 1341,334.4688 L1341,304 L1331,294 L1115,294 A0,0 0 0 0 1115,294 " fill="#FBFB77" filter="url(#f9neto2pkk8wz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1331,294 L1331,304 L1341,304 L1331,294 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="1121" y="311.0605">Реализация "тестовой" отправки</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="1121" y="326.2949">("заглушка")</text><!--MD5=[08cebb36993e0a4083114272f1b14d00]
class DiadocClientFactory--><rect fill="#FEFECE" filter="url(#f9neto2pkk8wz)" height="105.6875" id="DiadocClientFactory" style="stroke: #A80036; stroke-width: 1.5;" width="234" x="1679" y="47"/><ellipse cx="1737.25" cy="66.0625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1737.2969,72.2656 C1738.7969,72.2656 1740.0313,71.7031 1740.9375,70.6406 L1739.5625,69.125 C1739.0156,69.7188 1738.3594,70.1094 1737.5625,70.1094 C1735.8906,70.1094 1734.7344,68.7813 1734.7344,66.5 C1734.7344,64.2813 1735.8906,62.9375 1737.4531,62.9375 C1738.2656,62.9375 1738.8594,63.25 1739.3906,63.7344 L1740.7656,62.1875 C1740.0156,61.4531 1738.8594,60.7813 1737.4531,60.7813 C1734.5,60.7813 1732.1719,62.9219 1732.1719,66.5938 C1732.1719,70.3125 1734.5469,72.2656 1737.2969,72.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="1782.75" y="63.1328">«Фабрика»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="1757.75" y="77.1953">DiadocClientFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1680" x2="1912" y1="85.125" y2="85.125"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="1685" y="99.3301">authTokenProvider</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1680" x2="1912" y1="106.0156" y2="106.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="1685" y="120.2207">constructor({ type, login, password, cert })</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="1685" y="133.1113">getOrganizationsClient()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="1685" y="146.002">getMessagesClient()</text><!--MD5=[294f454fe84911e54fc803399bc17b1a]
class OrganizationsClient--><rect fill="#FEFECE" filter="url(#f9neto2pkk8wz)" height="67.0156" id="OrganizationsClient" style="stroke: #A80036; stroke-width: 1.5;" width="177" x="2333.5" y="480.5"/><ellipse cx="2348.5" cy="499.5625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2348.5469,505.7656 C2350.0469,505.7656 2351.2813,505.2031 2352.1875,504.1406 L2350.8125,502.625 C2350.2656,503.2188 2349.6094,503.6094 2348.8125,503.6094 C2347.1406,503.6094 2345.9844,502.2813 2345.9844,500 C2345.9844,497.7813 2347.1406,496.4375 2348.7031,496.4375 C2349.5156,496.4375 2350.1094,496.75 2350.6406,497.2344 L2352.0156,495.6875 C2351.2656,494.9531 2350.1094,494.2813 2348.7031,494.2813 C2345.75,494.2813 2343.4219,496.4219 2343.4219,500.0938 C2343.4219,503.8125 2345.7969,505.7656 2348.5469,505.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="149" x="2360.5" y="496.6328">«Работа с организациями»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="2380" y="510.6953">OrganizationsClient</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2334.5" x2="2509.5" y1="518.625" y2="518.625"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2334.5" x2="2509.5" y1="526.625" y2="526.625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="2339.5" y="540.8301">getMyOgranizations()</text><!--MD5=[1e430ba4f4f1dc2347cad435461dbb54]
class MessagesClient--><rect fill="#FEFECE" filter="url(#f9neto2pkk8wz)" height="79.9063" id="MessagesClient" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="1890" y="474"/><ellipse cx="1905" cy="493.0625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1905.0469,499.2656 C1906.5469,499.2656 1907.7813,498.7031 1908.6875,497.6406 L1907.3125,496.125 C1906.7656,496.7188 1906.1094,497.1094 1905.3125,497.1094 C1903.6406,497.1094 1902.4844,495.7813 1902.4844,493.5 C1902.4844,491.2813 1903.6406,489.9375 1905.2031,489.9375 C1906.0156,489.9375 1906.6094,490.25 1907.1406,490.7344 L1908.5156,489.1875 C1907.7656,488.4531 1906.6094,487.7813 1905.2031,487.7813 C1902.25,487.7813 1899.9219,489.9219 1899.9219,493.5938 C1899.9219,497.3125 1902.2969,499.2656 1905.0469,499.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="140" x="1917" y="490.1328">«Работа с сообщениями»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="1943" y="504.1953">MessagesClient</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1891" x2="2057" y1="512.125" y2="512.125"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1891" x2="2057" y1="520.125" y2="520.125"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1896" y="534.3301">postMessage()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1896" y="547.2207">getMessage(messageId)</text><!--MD5=[ec5c7fb2f4fd129228b6790782d4481d]
class AuthTokenProvider--><rect fill="#FEFECE" filter="url(#f9neto2pkk8wz)" height="67.0156" id="AuthTokenProvider" style="stroke: #A80036; stroke-width: 1.5;" width="247" x="1365.5" y="480.5"/><ellipse cx="1432.25" cy="499.5625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1432.2969,505.7656 C1433.7969,505.7656 1435.0313,505.2031 1435.9375,504.1406 L1434.5625,502.625 C1434.0156,503.2188 1433.3594,503.6094 1432.5625,503.6094 C1430.8906,503.6094 1429.7344,502.2813 1429.7344,500 C1429.7344,497.7813 1430.8906,496.4375 1432.4531,496.4375 C1433.2656,496.4375 1433.8594,496.75 1434.3906,497.2344 L1435.7656,495.6875 C1435.0156,494.9531 1433.8594,494.2813 1432.4531,494.2813 C1429.5,494.2813 1427.1719,496.4219 1427.1719,500.0938 C1427.1719,503.8125 1429.5469,505.7656 1432.2969,505.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86" x="1462.25" y="496.6328">«Авторизатор»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="1452.75" y="510.6953">AuthTokenProvider</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1366.5" x2="1611.5" y1="518.625" y2="518.625"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1366.5" x2="1611.5" y1="526.625" y2="526.625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="1371.5" y="540.8301">getAuthToken({ type, login, password, cert })</text><path d="M1647.5,489 L1647.5,505.2344 L1606.5,537.0703 L1647.5,513.2344 L1647.5,529.4688 A0,0 0 0 0 1647.5,529.4688 L1854.5,529.4688 A0,0 0 0 0 1854.5,529.4688 L1854.5,499 L1844.5,489 L1647.5,489 A0,0 0 0 0 1647.5,489 " fill="#FBFB77" filter="url(#f9neto2pkk8wz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1844.5,489 L1844.5,499 L1854.5,499 L1844.5,489 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="1653.5" y="506.0605">Метод возвращает</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="54" x="1777.5" y="506.0605">функцию</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="3" x="1831.5" y="506.0605">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="1653.5" y="521.2949">возвращающую auth token</text><a href="https://diadoc-sdk.readthedocs.io/ru/latest/http/Authenticate.html" target="_top" title="https://diadoc-sdk.readthedocs.io/ru/latest/http/Authenticate.html" xlink:actuate="onRequest" xlink:href="https://diadoc-sdk.readthedocs.io/ru/latest/http/Authenticate.html" xlink:show="new" xlink:title="https://diadoc-sdk.readthedocs.io/ru/latest/http/Authenticate.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="18" x="1821.5" y="521.2949">API</text></a><!--MD5=[440749db2858d253863cf55b0773792b]
class DiadocClient--><rect fill="#FEFECE" filter="url(#f9neto2pkk8wz)" height="67.0156" id="DiadocClient" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="1910.5" y="280.5"/><ellipse cx="1925.5" cy="299.5625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1925.5469,305.7656 C1927.0469,305.7656 1928.2813,305.2031 1929.1875,304.1406 L1927.8125,302.625 C1927.2656,303.2188 1926.6094,303.6094 1925.8125,303.6094 C1924.1406,303.6094 1922.9844,302.2813 1922.9844,300 C1922.9844,297.7813 1924.1406,296.4375 1925.7031,296.4375 C1926.5156,296.4375 1927.1094,296.75 1927.6406,297.2344 L1929.0156,295.6875 C1928.2656,294.9531 1927.1094,294.2813 1925.7031,294.2813 C1922.75,294.2813 1920.4219,296.4219 1920.4219,300.0938 C1920.4219,303.8125 1922.7969,305.7656 1925.5469,305.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="99" x="1937.5" y="296.6328">«Клиент ДиаДок»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="1952.5" y="310.6953">DiadocClient</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1911.5" x2="2036.5" y1="318.625" y2="318.625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="1916.5" y="332.8301">function authToken</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1911.5" x2="2036.5" y1="339.5156" y2="339.5156"/><path d="M2073,289 L2073,305.2344 L2022.5,329.0703 L2073,313.2344 L2073,329.4688 A0,0 0 0 0 2073,329.4688 L2363,329.4688 A0,0 0 0 0 2363,329.4688 L2363,299 L2353,289 L2073,289 A0,0 0 0 0 2073,289 " fill="#FBFB77" filter="url(#f9neto2pkk8wz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2353,289 L2353,299 L2363,299 L2353,289 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="2079" y="306.0605">лямбда-функция authToken без параметров</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="2079" y="321.2949">возвращает diadoc auth Token</text><a href="https://diadoc-sdk.readthedocs.io/ru/latest/Authorization.html" target="_top" title="https://diadoc-sdk.readthedocs.io/ru/latest/Authorization.html" xlink:actuate="onRequest" xlink:href="https://diadoc-sdk.readthedocs.io/ru/latest/Authorization.html" xlink:show="new" xlink:title="https://diadoc-sdk.readthedocs.io/ru/latest/Authorization.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="18" x="2272" y="321.2949">API</text></a><path d="M2546,481 L2546,504.8516 L2454.5,537.0703 L2546,512.8516 L2546,536.7031 A0,0 0 0 0 2546,536.7031 L2690,536.7031 A0,0 0 0 0 2690,536.7031 L2690,491 L2680,481 L2546,481 A0,0 0 0 0 2546,481 " fill="#FBFB77" filter="url(#f9neto2pkk8wz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2680,481 L2680,491 L2690,491 L2680,481 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="2552" y="498.0605">Возвращает список</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="2552" y="513.2949">организаций</text><a href="https://diadoc-sdk.readthedocs.io/ru/latest/http/GetMyOrganizations.html" target="_top" title="https://diadoc-sdk.readthedocs.io/ru/latest/http/GetMyOrganizations.html" xlink:actuate="onRequest" xlink:href="https://diadoc-sdk.readthedocs.io/ru/latest/http/GetMyOrganizations.html" xlink:show="new" xlink:title="https://diadoc-sdk.readthedocs.io/ru/latest/http/GetMyOrganizations.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="18" x="2552" y="528.5293">API</text></a><path d="M2093.5,489 L2093.5,505.2344 L1977,530.5703 L2093.5,513.2344 L2093.5,529.4688 A0,0 0 0 0 2093.5,529.4688 L2298.5,529.4688 A0,0 0 0 0 2298.5,529.4688 L2298.5,499 L2288.5,489 L2093.5,489 A0,0 0 0 0 2093.5,489 " fill="#FBFB77" filter="url(#f9neto2pkk8wz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2288.5,489 L2288.5,499 L2298.5,499 L2288.5,489 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="2099.5" y="506.0605">Данный метод используется</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="2099.5" y="521.2949">для отправки документов</text><a href="https://diadoc-sdk.readthedocs.io/ru/latest/http/PostMessage.html" target="_top" title="https://diadoc-sdk.readthedocs.io/ru/latest/http/PostMessage.html" xlink:actuate="onRequest" xlink:href="https://diadoc-sdk.readthedocs.io/ru/latest/http/PostMessage.html" xlink:show="new" xlink:title="https://diadoc-sdk.readthedocs.io/ru/latest/http/PostMessage.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="18" x="2265.5" y="521.2949">API</text></a><!--MD5=[7b1b8a0798b8d21093d85f222d659ae9]
reverse link DocumentService to DiadocDocumentService--><path d="M599.4859,148.7382 C553.9038,187.8734 491.6453,241.3265 450.4254,276.7165 " fill="none" id="DocumentService&lt;-DiadocDocumentService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="595.1172,143.263,614.8516,135.5458,604.237,153.8851,595.1172,143.263" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d661a85c7ec31a9453bf2d0384c4ef3f]
link DiadocDocumentService to DiadocDocumentService$$$RIGHT--><!--MD5=[290952256b85cd546d4356af15679924]
reverse link DocumentService to TestDocumentService--><path d="M727.9527,146.9721 C784.735,186.318 863.6125,240.9743 915.4549,276.8972 " fill="none" id="DocumentService&lt;-TestDocumentService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="723.915,152.6906,711.4628,135.5458,731.8888,141.1832,723.915,152.6906" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6d2b847cadde513ac5d4cf098f2b95f9]
link DiadocClientFactory to OrganizationsClient--><path d="M1913,128.5 C1971.5809,128.5 2433,156.9191 2433,215.5 C2433,215.5 2433,215.5 2433,412.5 C2433,435.1876 2430.25,460.5626 2427.5,480.2657 " fill="none" id="DiadocClientFactory-OrganizationsClient" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="2434" y="318.5605">возвращает</text><!--MD5=[c80c78df1e726e6fac7bb1d31af1a843]
link DiadocClientFactory to MessagesClient--><path d="M1913,140.5 C1919,140.5 1916.1024,148.8643 1913,154 C1882.6242,204.2834 1796,156.7538 1796,215.5 C1796,215.5 1796,215.5 1796,412.5 C1796,424.3061 1843.864,451.1612 1889.9518,474.2832 " fill="none" id="DiadocClientFactory-MessagesClient" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="1797" y="318.5605">возвращает</text><!--MD5=[a69add655907a439a759302981eafd46]
link DiadocClientFactory to AuthTokenProvider--><path d="M1670.9986,118.3468 C1619.2102,134.3851 1571,163.3267 1571,215.5 C1571,215.5 1571,215.5 1571,412.5 C1571,439.0047 1553.872,462.4835 1535.2721,480.1661 " fill="none" id="DiadocClientFactory-AuthTokenProvider" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="1572" y="318.5605">использует</text><!--MD5=[e3750bc7305ce813b04dd0efddccd52a]
link AuthTokenProvider to AuthTokenProvider$$$RIGHT--><!--MD5=[3144baf63a25394ad6326719dc3f51c4]
link DiadocClient to DiadocClient$$$RIGHT--><!--MD5=[e17c12f72e8cce72997d678cf2d6b0a9]
reverse link DiadocClient to OrganizationsClient--><path d="M2051.5168,356.8033 C2053.0203,357.5478 2054.5158,358.2808 2056,359 C2150.0779,404.5902 2260.9876,450.5047 2335.8588,480.393 " fill="none" id="DiadocClient&lt;-OrganizationsClient" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="2048.2493,362.9945,2033.644,347.6424,2054.6352,350.5357,2048.2493,362.9945" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[552e25b08ace64aeb1747ad59f14a0b7]
link OrganizationsClient to OrganizationsClient$$$RIGHT--><!--MD5=[486481741f40679dec7cfe9f2d01ffe8]
reverse link DiadocClient to MessagesClient--><path d="M1974,368.3286 C1974,401.5744 1974,443.3976 1974,473.6925 " fill="none" id="DiadocClient&lt;-MessagesClient" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1967.0001,367.9273,1974,347.9273,1981.0001,367.9272,1967.0001,367.9273" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4935cd730fea66ae87b96266a6b04c48]
link MessagesClient to MessagesClient$$$RIGHT--><!--MD5=[f16673df50287d792d0dd625bccc5b02]
@startuml

package Service #YellowGreen {

    class DocumentService {
      sendDocument(sender, receiver, data)
      getDocument(id)
    }

    note right of DocumentService
      Базовый класс для работы с документами
    end note

    class DiadocDocumentService extends DocumentService {
      sendDocument(sender, receiver, data)
      getDocument(id)
    }
    note right of DiadocDocumentService::sendDocument
      ключами для поиска получателя
      и отправителя можно сделать ИНН {inn}
    end note

    note left of  DiadocDocumentService
      Реализация отправки через DiaDoc
    end note


    class TestDocumentService extends DocumentService {
      sendDocument(sender, receiver, data)
      getDocument(id)
    }

    note right of  TestDocumentService
      Реализация "тестовой" отправки
      ("заглушка")
    end note
}

package Diadoc #Orange {

  class DiadocClientFactory  <<Фабрика>>{
    authTokenProvider
    constructor({ type, login, password, cert })
    getOrganizationsClient()
    getMessagesClient()
  }
  DiadocClientFactory::getOrganizationsClient ... OrganizationsClient : возвращает

  DiadocClientFactory::getMessagesClient ... MessagesClient : возвращает

  DiadocClientFactory ... AuthTokenProvider : использует

  class AuthTokenProvider <<Авторизатор>>{
    getAuthToken({ type, login, password, cert })
  }

  note right of AuthTokenProvider::getAuthToken
  Метод возвращает <u>функцию</u>,
  возвращающую auth token [[https://diadoc-sdk.readthedocs.io/ru/latest/http/Authenticate.html API]]
  end note

  class DiadocClient <<Клиент ДиаДок>>{
    function authToken
  }
  note right of DiadocClient::authToken
  лямбда-функция authToken без параметров
  возвращает diadoc auth Token [[https://diadoc-sdk.readthedocs.io/ru/latest/Authorization.html API]]
  end note

  class OrganizationsClient  <<Работа с организациями>> extends DiadocClient{
    getMyOgranizations()
  }

  note right of OrganizationsClient::getMyOgranizations
  Возвращает список
  организаций
  [[https://diadoc-sdk.readthedocs.io/ru/latest/http/GetMyOrganizations.html API]]
  end note

  class MessagesClient  <<Работа с сообщениями>> extends DiadocClient{
    postMessage()
    getMessage(messageId)
  }

  note right of MessagesClient::postMessage
  Данный метод используется
  для отправки документов [[https://diadoc-sdk.readthedocs.io/ru/latest/http/PostMessage.html API]]
  end note

}

@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 SAMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.11+9-suse-3.56.1-x8664
Operating System: Linux
Default Encoding: UTF-8
Language: ru
Country: RU
--></g></svg>